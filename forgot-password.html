<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Forgot Password - Ali Hacking Course</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron&display=swap');
    body{margin:0;font-family:'Orbitron',sans-serif;background:linear-gradient(135deg,#1a1a40,#2e003e,#3f0d69);color:#fff;
      display:flex;align-items:center;justify-content:center;height:100vh;}
    .container{background:rgba(0,0,0,0.85);padding:40px;width:400px;text-align:center;border-radius:15px;
      box-shadow:0 0 25px #8e24aa;}
    h1{color:#ce93d8;margin-bottom:20px;}
    input,button{width:100%;padding:12px;margin:8px 0;border:none;border-radius:8px;font-size:16px;}
    input{background:#2c2c4d;color:#fff;}input:focus{background:#3a3a5c;outline:none;}
    button{background:#8e24aa;color:#fff;font-weight:bold;cursor:pointer;}button:hover{background:#6a1b9a;}
    .msg{height:20px;font-weight:bold;} .err{color:#ff6666;} .ok{color:#66ff66;}
    .link{margin-top:10px;display:block;color:#b39ddb;cursor:pointer;} .link:hover{color:#fff;}
  </style>
</head>
<body>
  <div class="container">
    <h1>Reset Password</h1>
    <div id="msg" class="msg"></div>
    <input id="username" type="text" placeholder="Username"/>
    <input id="hint" type="text" placeholder="Password Hint"/>
    <input id="newpass" type="password" placeholder="New Password"/>
    <input id="confirmpass" type="password" placeholder="Confirm Password"/>
    <button onclick="resetPass()">Reset</button>
    <span class="link" onclick="location.href='index.html'">← Back to Login</span>
  </div>
  <script>
    function getUsers(){return JSON.parse(localStorage.getItem('users')||'[]');}
    function saveUsers(u){localStorage.setItem('users',JSON.stringify(u));}
    function resetPass(){
      let u=document.getElementById('username').value.trim();
      let h=document.getElementById('hint').value.trim();
      let np=document.getElementById('newpass').value.trim();
      let cp=document.getElementById('confirmpass').value.trim();
      let msg=document.getElementById('msg'); msg.className="msg";
      if(!u||!h||!np||!cp){ msg.textContent="All fields required"; msg.classList.add("err"); return; }
      if(np!==cp){ msg.textContent="Passwords don’t match"; msg.classList.add("err"); return; }
      let users=getUsers(); let idx=users.findIndex(x=>x.username.toLowerCase()===u.toLowerCase());
      if(idx===-1){ msg.textContent="User not found"; msg.classList.add("err"); return; }
      if(users[idx].hint.toLowerCase()!==h.toLowerCase()){ msg.textContent="Hint incorrect"; msg.classList.add("err"); return; }
      users[idx].password=np; saveUsers(users);
      msg.textContent="Password reset successful"; msg.classList.add("ok");
    }
  </script>
</body>
</html>
