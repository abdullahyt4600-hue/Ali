<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Login</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron&display=swap');
body{margin:0;font-family:'Orbitron',sans-serif;background:linear-gradient(135deg,#0f0c29,#302b63,#24243e);color:#fff;display:flex;align-items:center;justify-content:center;height:100vh;}
.container{background:rgba(0,0,0,0.85);padding:40px;border-radius:15px;width:400px;text-align:center;box-shadow:0 0 25px #7f00ff;}
h1{color:#a67fff;margin-bottom:20px;}
input,button{width:100%;padding:12px;margin:8px 0;border:none;border-radius:8px;font-size:16px;}
input{background:#2c2c4d;color:#fff;}
input:focus{background:#3a3a5c;outline:none;}
button{background:#8e24aa;color:#fff;font-weight:bold;cursor:pointer;}
button:hover{background:#6a1b9a;}
.msg{height:20px;color:#ff6666;font-weight:bold;}
.link{margin-top:10px;display:block;cursor:pointer;color:#b39ddb;}
.link:hover{color:#fff;}
</style>
</head>
<body>
<div class="container">
<h1>Login to Your Account</h1>
<div id="msg" class="msg"></div>
<input id="email" type="email" placeholder="Email"/>
<input id="password" type="password" placeholder="Password"/>
<button onclick="login()">Login</button>
<span class="link" onclick="location.href='signup.html'">Create Account â†’</span>
<span class="link" onclick="forgotPass()">Forgot Password?</span>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAmSC92mozosP8JdQGOzF7KE9wCa-h4b_E",
  authDomain: "authdomain-b606b.firebaseapp.com",
  projectId: "authdomain-b606b",
  storageBucket: "authdomain-b606b.firebasestorage.app",
  messagingSenderId: "374508656476",
  appId: "1:374508656476:web:1a1affe311734602bc5399",
  measurementId: "G-FH5BSP31E7"
};
if(!firebase.apps.length) firebase.initializeApp(firebaseConfig);

const auth = firebase.auth();
const adminEmail = "abdullahyt4622@gmail.com";

function login(){
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value;
  const msg = document.getElementById("msg");
  msg.textContent = "";

  if(!email || !password){ msg.textContent="All fields required"; return; }

  auth.signInWithEmailAndPassword(email,password)
    .then(userCredential=>{
      if(email === adminEmail) window.location.href="admin.html";
      else window.location.href="dashboard.html";
    })
    .catch(error=>{
      msg.textContent = error.message;
      if(error.code==="auth/user-not-found" || error.code==="auth/wrong-password"){
        forgotPassPrompt(email);
      }
    });
}

function forgotPass(){
  const email = prompt("Enter your email to reset password:");
  if(email) auth.sendPasswordResetEmail(email)
    .then(()=>alert("Reset email sent"))
    .catch(err=>alert(err.message));
}

function forgotPassPrompt(email){
  if(confirm("User not found or wrong password. Send reset email?")){
    auth.sendPasswordResetEmail(email)
      .then(()=>alert("Reset email sent"))
      .catch(err=>alert(err.message));
  }
}
</script>
</body>
</html>
