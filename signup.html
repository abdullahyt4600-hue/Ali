<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HackLearn - Learn Cybersecurity</title>
<style>
  body{
    margin:0;
    font-family:'Orbitron',sans-serif;
    background:#0e0e0e;
    color:#fff;
  }
  header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:20px 50px;
    background:#121212;
    border-bottom:1px solid #333;
  }
  header h1{color:#ce93d8;}
  header nav a{
    margin-left:20px;
    color:#fff;
    text-decoration:none;
    font-weight:bold;
    cursor:pointer;
    transition:0.3s;
  }
  header nav a:hover{color:#ce93d8;}

  .hero{
    display:flex;
    flex-direction:row;
    justify-content:space-around;
    align-items:center;
    height:90vh;
    background:linear-gradient(135deg, #6a1b9a, #8e24aa);
    padding:20px;
  }
  .hero .text{
    max-width:500px;
  }
  .hero h1{font-size:3rem;margin-bottom:20px;}
  .hero p{font-size:1.2rem;margin-bottom:30px;}
  .hero button{
    padding:15px 30px;
    background:#fff;
    color:#8e24aa;
    border:none;
    font-size:1rem;
    font-weight:bold;
    border-radius:5px;
    cursor:pointer;
    transition:0.3s;
  }
  .hero button:hover{background:#f3e5f5;}
  .hero img{
    max-width:400px;
    border-radius:10px;
  }

  /* Modal Login */
  .modal{
    display:none;
    position:fixed;
    z-index:100;
    left:0;top:0;
    width:100%;height:100%;
    background:rgba(0,0,0,0.8);
    justify-content:center;
    align-items:center;
  }
  .modal-content{
    background:#1e1e1e;
    padding:30px;
    border-radius:10px;
    width:300px;
    text-align:center;
  }
  .modal-content input{
    width:100%;
    padding:10px;
    margin:10px 0;
    border:none;
    border-radius:5px;
  }
  .modal-content button{
    padding:10px 20px;
    border:none;
    border-radius:5px;
    background:#8e24aa;
    color:#fff;
    cursor:pointer;
    width:100%;
  }
  .modal-content button:hover{background:#6a1b9a;}
  .close{
    color:#fff;
    float:right;
    font-size:24px;
    cursor:pointer;
  }
  #loginMsg{
    margin-top:10px;
    font-size:0.9rem;
    color:#f88;
  }
</style>
</head>
<body>

<header>
  <h1>HackLearn</h1>
  <nav>
    <a onclick="openLogin()">Login</a>
    <a href="signup.html">Sign Up</a>
  </nav>
</header>

<section class="hero">
  <div class="text">
    <h1>Learn Cybersecurity & Hacking</h1>
    <p>Interactive challenges and labs to level up your hacking skills safely!</p>
    <button onclick="openLogin()">Login to Start</button>
  </div>
  <img src="https://tryhackme.com/images/hero/hero-desktop.png" alt="Cybersecurity Learning">
</section>

<!-- Login Modal -->
<div class="modal" id="loginModal">
  <div class="modal-content">
    <span class="close" onclick="closeLogin()">&times;</span>
    <h2>Login</h2>
    <input type="email" id="loginEmail" placeholder="Email"/>
    <input type="password" id="loginPassword" placeholder="Password"/>
    <button onclick="login()">Login</button>
    <p id="loginMsg"></p>
  </div>
</div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAmSC92mozosP8JdQGOzF7KE9wCa-h4b_E",
  authDomain: "authdomain-b606b.firebaseapp.com",
  projectId: "authdomain-b606b",
  storageBucket: "authdomain-b606b.appspot.com",
  messagingSenderId: "374508656476",
  appId: "1:374508656476:web:1a1affe311734602bc5399"
};
if(!firebase.apps.length) firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

// Open/Close Login Modal
function openLogin(){ document.getElementById('loginModal').style.display='flex'; }
function closeLogin(){ document.getElementById('loginModal').style.display='none'; }

// Login Function
function login(){
  const email = document.getElementById('loginEmail').value;
  const password = document.getElementById('loginPassword').value;
  const msg = document.getElementById('loginMsg');
  msg.textContent = '';

  if(!email || !password){
    msg.textContent = "Please enter email and password!";
    return;
  }

  auth.signInWithEmailAndPassword(email,password)
    .then((userCredential)=>{
      msg.style.color="#8f8";
      msg.textContent="Login successful! Redirecting...";
      setTimeout(()=> window.location.href="dashboard.html",1000);
    })
    .catch((error)=>{
      if(error.code === "auth/wrong-password" || error.code === "auth/user-not-found"){
        msg.textContent = "Email or password is incorrect!";
      } else if(error.code === "auth/invalid-email"){
        msg.textContent = "Invalid email format!";
      } else {
        msg.textContent = "Login failed. Try again!";
      }
    });
}
</script>
</body>
</html>
